# nGrinder 부하테스트 설정 파일
# 포트폴리오 백테스팅 API 전용

# === 기본 테스트 설정 ===
# 테스트 지속 시간 (초)
grinder.duration=300

# 가상 사용자 수 (동시 접속자)
grinder.threads=50

# 프로세스 수 (멀티코어 활용)
grinder.processes=2

# 각 스레드의 실행 횟수 (-1: 무제한)
grinder.runs=-1

# Ramp-up 시간 (초) - 점진적 부하 증가
grinder.processIncrement=1
grinder.processIncrementInterval=5000

# === HTTP 설정 ===
# 연결 타임아웃 (밀리초)
grinder.plugin.parameter.timeout=30000

# Keep-alive 연결 사용
grinder.plugin.parameter.useConnectionPooling=true

# 최대 연결 수
grinder.plugin.parameter.connectionPoolMaxConnectionsPerHost=10

# === 로깅 설정 ===
# 로그 레벨 (DEBUG, INFO, WARN, ERROR)
grinder.logLevel=INFO

# 상세 로깅 활성화
grinder.plugin.parameter.logHTTPResponse=false

# === 테스트 결과 설정 ===
# TPS 보고 간격 (밀리초)
grinder.reportTimesToConsole=5000

# 결과 파일 저장
grinder.logDirectory=logs

# === 커스텀 속성 ===
# API 베이스 URL
api.base.url=http://localhost:8081

# 테스트 데이터 설정
test.users.count=100
test.portfolios.count=20

# 백테스팅 전용 테스트 비율 (%)
backtest.only.ratio=30

# === 성능 임계값 ===
# 평균 응답시간 임계값 (밀리초)
performance.threshold.avg=2000

# 95% 응답시간 임계값 (밀리초)  
performance.threshold.95percentile=5000

# 에러율 임계값 (%)
performance.threshold.error.rate=1.0

# TPS 목표
performance.target.tps=100